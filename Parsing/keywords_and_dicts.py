# compile a list of keywords to filter user_location by
city_state=["ALABAMA","ALASKA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","FLORIDA","GEORGIA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW HAMPSHIRE","N.H.","N. H.","NEW JERSEY","N.J.","N. J.","NEW MEXICO","N.M.","N. M.","NEW YORK","N.Y.","N. Y.","NORTH CAROLINA","N.C.","N. C.","NORTH DAKOTA","N.D.","N. D.","OHIO","OKLAHOMA","OREGON","PENNSYLVANIA","RHODE ISLAND","R.I.","R. I.","SOUTH CAROLINA","S.C.","S. C.","SOUTH DAKOTA","S.D.","S. D.","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINIA","WASHINGTON","WEST VIRGINIA","W.V.","W. V.","WISCONSIN","WYOMING","AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","Abilene","Akron","Albuquerque","Alexandria","Allentown","Amarillo","Anaheim","Anchorage","Ann Arbor","Antioch","Arlington","Arvada","Athens","Atlanta","Augusta","Aurora","Austin","Bakersfield","Baltimore","Baton Rouge","Beaumont","Bellevue","Berkeley","Billings","Birmingham","Boise","Boston","Boulder","Bridgeport","Broken Arrow","Brownsville","Buffalo","Burbank","Cambridge","Cape Coral","Carlsbad","Carrollton","Cary","Cedar Rapids","Centennial","Chandler","Charleston","Charlotte","Chattanooga","Chesapeake","Chicago","Chula Vista","Cincinnati","Clarksville","Clearwater","Cleveland","Clovis","College Station","Colorado Springs","Columbia","Columbus","Concord","Coral Springs","Corona","Corpus Christi","Costa Mesa","Dallas","Daly City","Davenport","Davie","Dayton","Denton","Denver","Des Moines","Detroit","Downey","Durham","Edison","El Cajon","El Monte","El Paso","Elgin","Elizabeth","Elk Grove","Escondido","Eugene","Evansville","Everett","Fairfield","Fargo","Fayetteville","Fontana","Fort Collins","Ft Collins","Ft. Collins","Fort Lauderdale","Ft Lauderdale","Ft. Lauderdale","Fort Wayne","Ft Wayne","Ft. Wayne","Fort Worth","Ft Worth","Ft. Worth","Fremont","Fresno","Frisco","Fullerton","Gainesville","Garden Grove","Garland","Gilbert","Glendale","Grand Rapids","Grand Prairie","Greeley","Green Bay","Greensboro","Gresham","Hampton","Hartford","Hayward","Henderson","Hialeah","High Point","Hillsboro","Hollywood","Honolulu","Houston","Huntington Beach","Huntsville","Independence","Indianapolis","Inglewood","Irvine","Irving","Jackson","Jacksonville","Jersey City","JC","Joliet","Jurupa Valley","Kansas City","Kent","Killeen","Knoxville","Lafayette","Lakeland","Lakewood","Lancaster","Lansing","Laredo","Las Cruces","Las Vegas","LV","Lewisville","Lexington","Lincoln","Little Rock","Long Beach","Los Angeles","LA","Louisville","Lowell","Lubbock","Macon","Madison","Manchester","McAllen","McKinney","Memphis","Mesa","Mesquite","Miami","Miami Gardens","Midland","Milwaukee","Minneapolis","Miramar","Mobile","Modesto","Montgomery","Moreno Valley","Murfreesboro","Murrieta","Naperville","Nashville","New Haven","New Orleans","New York","NYC","Newark","Newport News","Norfolk","Norman","North Charleston","N Charleston","North Las Vegas","N Las Vegas","Norwalk","Oakland","Oceanside","Odessa","Oklahoma City","Oklahoma","Olathe","Omaha","Ontario","Orange","Orlando","Overland Park","Oxnard","Palm Bay","Palmdale","Pasadena","Paterson","Pearland","Pembroke Pines","Peoria","Philadelphia","Philly","Phoenix","Pittsburgh","Plano","Pomona","Pompano Beach","Port St. Lucie","Port Saint Lucie","Port St Lucie","Portland","Providence","Provo","Pueblo","Raleigh","Rancho Cucamonga","Reno","Renton","Rialto","Richardson","Richmond","Riverside","Rochester","Rockford","Roseville","Round Rock","Sacramento","Saint Paul","St. Paul","St Paul","Salem","Salinas","Salt Lake City","San Angelo","San Antonio","San Bernardino","San Diego","San Francisco","San Fran","San Jose","San Mateo","Sandy Springs","Santa Ana","Santa Clara","Santa Clarita","Santa Maria","Santa Rosa","Savannah","Scottsdale","Seattle","Shreveport","Simi Valley","Sioux Falls","South Bend","S Bend","Spokane","Springfield","St. Louis","Saint Louis","St Louis","St. Petersburg","Saint Petersburg","St Petersburg","Stamford","Sterling Heights","Stockton","Sunnyvale","Surprise","Syracuse","Tacoma","Tallahassee","Tampa","Temecula","Tempe","Thornton","Thousand Oaks","Toledo","Topeka","Torrance","Tucson","Tulsa","Tyler","Vallejo","Vancouver","Ventura","Victorville","Virginia Beach","VA Beach","Visalia","Vista","Waco","Warren","Washington","DC","District Columbia","Waterbury","West Covina","W Covina","West Jordan","W Jordan","West Palm Beach","W Palm Beach","West Valley City","W Vally City","Westminster","Wichita","Wichita Falls","Wilmington","Winston–Salem","Winston Salem","Woodbridge","Worcester","Yonkers","Southern California","SoCal"]
keywords=re.compile('|'.join(city_state))

# compile a dictionary assigning keywords to a state within USA
state_dict={}
state_dict['Abilene']='TX'
state_dict['Akron']='OH'
state_dict['Albuquerque']='NM'
state_dict['Alexandria']='VA'
state_dict['Allentown']='PA'
state_dict['Amarillo']='TX'
state_dict['Anaheim']='CA'
state_dict['Anchorage']='AK'
state_dict['Ann Arbor']='MI'
state_dict['Antioch']='CA'
state_dict['Arlington']='TX'
state_dict['Arvada']='CO'
state_dict['Athens']='GA'
state_dict['Atlanta']='GA'
state_dict['Augusta']='GA'
state_dict['Aurora']='CO'
state_dict['Austin']='TX'
state_dict['Bakersfield']='CA'
state_dict['Baltimore']='MD'
state_dict['Baton Rouge']='LA'
state_dict['Beaumont']='TX'
state_dict['Bellevue']='WA'
state_dict['Berkeley']='CA'
state_dict['Billings']='MT'
state_dict['Birmingham']='AL'
state_dict['Boise']='ID'
state_dict['Boston']='MA'
state_dict['Boulder']='CO'
state_dict['Bridgeport']='CT'
state_dict['Broken Arrow']='OK'
state_dict['Brownsville']='TX'
state_dict['Buffalo']='NY'
state_dict['Burbank']='CA'
state_dict['Cambridge']='MA'
state_dict['Cape Coral']='FL'
state_dict['Carlsbad']='CA'
state_dict['Carrollton']='TX'
state_dict['Cary']='NC'
state_dict['Cedar Rapids']='IA'
state_dict['Centennial']='CO'
state_dict['Chandler']='AZ'
state_dict['Charleston']='SC'
state_dict['Charlotte']='NC'
state_dict['Chattanooga']='TN'
state_dict['Chesapeake']='VA'
state_dict['Chicago']='IL'
state_dict['Chula Vista']='CA'
state_dict['Cincinnati']='OH'
state_dict['Clarksville']='TN'
state_dict['Clearwater']='FL'
state_dict['Cleveland']='OH'
state_dict['College Station']='TX'
state_dict['Colorado Springs']='CO'
state_dict['Columbia']='SC'
state_dict['Columbus']='OH'
state_dict['Concord']='CA'
state_dict['Coral Springs']='FL'
state_dict['Corona']='CA'
state_dict['Corpus Christi']='TX'
state_dict['Costa Mesa']='CA'
state_dict['Dallas']='TX'
state_dict['Daly City']='CA'
state_dict['Davenport']='IA'
state_dict['Davie']='FL'
state_dict['Dayton']='OH'
state_dict['Denton']='TX'
state_dict['Denver']='CO'
state_dict['Des Moines']='IA'
state_dict['Detroit']='MI'
state_dict['Downey']='CA'
state_dict['Durham']='NC'
state_dict['Edison']='NJ'
state_dict['El Cajon']='CA'
state_dict['El Monte']='CA'
state_dict['El Paso']='TX'
state_dict['Elgin']='IL'
state_dict['Elizabeth']='NJ'
state_dict['Elk Grove']='CA'
state_dict['Escondido']='CA'
state_dict['Eugene']='OR'
state_dict['Evansville']='IN'
state_dict['Everett']='WA'
state_dict['Fairfield']='CA'
state_dict['Fargo']='ND'
state_dict['Fayetteville']='NC'
state_dict['Fontana']='CA'
state_dict['Fort Collins']='CO'
state_dict['Ft Collins']='CO'
state_dict['Ft. Collins']='CO'
state_dict['Fort Lauderdale']='FL'
state_dict['Ft Lauderdale']='FL'
state_dict['Ft. Lauderdale']='FL'
state_dict['Fort Wayne']='IN'
state_dict['Ft Wayne']='IN'
state_dict['Ft. Wayne']='IN'
state_dict['Fort Worth']='TX'
state_dict['Ft Worth']='TX'
state_dict['Ft. Worth']='TX'
state_dict['Fremont']='CA'
state_dict['Fresno']='CA'
state_dict['Frisco']='TX'
state_dict['Fullerton']='CA'
state_dict['Gainesville']='FL'
state_dict['Garden Grove']='CA'
state_dict['Garland']='TX'
state_dict['Gilbert']='AZ'
state_dict['Glendale']='AZ'
state_dict['Grand Prairie']='TX'
state_dict['Grand Rapids']='MI'
state_dict['Greeley']='CO'
state_dict['Green Bay']='WI'
state_dict['Greensboro']='NC'
state_dict['Gresham']='OR'
state_dict['Hampton']='VA'
state_dict['Hartford']='CT'
state_dict['Hayward']='CA'
state_dict['Henderson']='NV'
state_dict['Hialeah']='FL'
state_dict['High Point']='NC'
state_dict['Hillsboro']='OR'
state_dict['Hollywood']='FL'
state_dict['Honolulu']='HI'
state_dict['Houston']='TX'
state_dict['Huntington Beach']='CA'
state_dict['Huntsville']='AL'
state_dict['Independence']='MO'
state_dict['Indianapolis']='IN'
state_dict['Inglewood']='CA'
state_dict['Irvine']='CA'
state_dict['Irving']='TX'
state_dict['Jackson']='MS'
state_dict['Jacksonville']='FL'
state_dict['Jersey City']='NJ'
state_dict['Joliet']='IL'
state_dict['Jurupa Valley']='CA'
state_dict['Kansas City']='KS'
state_dict['Kent']='WA'
state_dict['Killeen']='TX'
state_dict['Knoxville']='TN'
state_dict['Lafayette']='LA'
state_dict['Lakeland']='FL'
state_dict['Lakewood']='CO'
state_dict['Lancaster']='CA'
state_dict['Lansing']='MI'
state_dict['Laredo']='TX'
state_dict['Las Cruces']='NM'
state_dict['Las Vegas']='NV'
state_dict['LV']='NV'
state_dict['Lewisville']='TX'
state_dict['Lexington']='KY'
state_dict['Lincoln']='NE'
state_dict['Little Rock']='AR'
state_dict['Long Beach']='CA'
state_dict['Los Angeles']='CA'
state_dict['LA']='CA'
state_dict['L.A.']='CA'
state_dict['Louisville']='KY'
state_dict['Lowell']='MA'
state_dict['Lubbock']='TX'
state_dict['Macon']='GA'
state_dict['Madison']='WI'
state_dict['Manchester']='NH'
state_dict['McAllen']='TX'
state_dict['McKinney']='TX'
state_dict['Memphis']='TN'
state_dict['Mesa']='AZ'
state_dict['Mesquite']='TX'
state_dict['Miami']='FL'
state_dict['Midland']='TX'
state_dict['Milwaukee']='WI'
state_dict['Minneapolis']='MN'
state_dict['Miramar']='FL'
state_dict['Mobile']='AL'
state_dict['Modesto']='CA'
state_dict['Montgomery']='AL'
state_dict['Moreno Valley']='CA'
state_dict['Murfreesboro']='TN'
state_dict['Murrieta']='CA'
state_dict['Naperville']='IL'
state_dict['Nashville']='TN'
state_dict['New Haven']='CT'
state_dict['New Orleans']='LA'
state_dict['New York']='NY'
state_dict['NYC']='NY'
state_dict['Newark']='NJ'
state_dict['Newport News']='VA'
state_dict['Norfolk']='VA'
state_dict['Norman']='OK'
state_dict['North Charleston']='SC'
state_dict['North Las Vegas']='NV'
state_dict['Norwalk']='CA'
state_dict['Oakland']='CA'
state_dict['Oceanside']='CA'
state_dict['Odessa']='TX'
state_dict['Oklahoma City']='OK'
state_dict['Olathe']='KS'
state_dict['Omaha']='NE'
state_dict['Ontario']='CA'
state_dict['Orange']='CA'
state_dict['Orlando']='FL'
state_dict['Overland Park']='KS'
state_dict['Oxnard']='CA'
state_dict['Palm Bay']='FL'
state_dict['Palmdale']='CA'
state_dict['Pasadena']='CA'
state_dict['Paterson']='NJ'
state_dict['Pearland']='TX'
state_dict['Pembroke Pines']='FL'
state_dict['Peoria']='IL'
state_dict['Philadelphia']='PA'
state_dict['Philly']='PA'
state_dict['Phoenix']='AZ'
state_dict['Pittsburgh']='PA'
state_dict['Plano']='TX'
state_dict['Pomona']='CA'
state_dict['Pompano Beach']='FL'
state_dict['Port St. Lucie']='FL'
state_dict['Port St Lucie']='FL'
state_dict['Port Saint Lucie']='FL'
state_dict['Portland']='OR'
state_dict['Providence']='RI'
state_dict['Provo']='UT'
state_dict['Pueblo']='CO'
state_dict['Raleigh']='NC'
state_dict['Rancho Cucamonga']='CA'
state_dict['Reno']='NV'
state_dict['Renton']='WA'
state_dict['Rialto']='CA'
state_dict['Richardson']='TX'
state_dict['Richmond']='VA'
state_dict['Riverside']='CA'
state_dict['Rochester']='NY'
state_dict['Rockford']='IL'
state_dict['Roseville']='CA'
state_dict['Round Rock']='TX'
state_dict['Sacramento']='CA'
state_dict['Saint Paul']='MN'
state_dict['St Paul']='MN'
state_dict['St. Paul']='MN'
state_dict['Salem']='OR'
state_dict['Salinas']='CA'
state_dict['Salt Lake City']='UT'
state_dict['Salt Lake']='UT'
state_dict['San Angelo']='TX'
state_dict['San Antonio']='TX'
state_dict['San Bernardino']='CA'
state_dict['San Diego']='CA'
state_dict['San Francisco']='CA'
state_dict['San Fran']='CA'
state_dict['San Jose']='CA'
state_dict['San Mateo']='CA'
state_dict['Sandy Springs']='GA'
state_dict['Santa Ana']='CA'
state_dict['Santa Clara']='CA'
state_dict['Santa Clarita']='CA'
state_dict['Santa Maria']='CA'
state_dict['Santa Rosa']='CA'
state_dict['Savannah']='GA'
state_dict['Scottsdale']='AZ'
state_dict['Seattle']='WA'
state_dict['Shreveport']='LA'
state_dict['Simi Valley']='CA'
state_dict['Sioux Falls']='SD'
state_dict['South Bend']='IN'
state_dict['Spokane']='WA'
state_dict['Springfield']='MO'
state_dict['St. Louis']='MO'
state_dict['St Louis']='MO'
state_dict['Saint Louis']='MO'
state_dict['St. Petersburg']='FL'
state_dict['St Petersburg']='FL'
state_dict['Saint Peterburg']='FL'
state_dict['Stamford']='CT'
state_dict['Sterling Heights']='MI'
state_dict['Stockton']='CA'
state_dict['Sunnyvale']='CA'
state_dict['Surprise']='AZ'
state_dict['Syracuse']='NY'
state_dict['Tacoma']='WA'
state_dict['Tallahassee']='FL'
state_dict['Tampa']='FL'
state_dict['Temecula']='CA'
state_dict['Tempe']='AZ'
state_dict['Thornton']='CO'
state_dict['Thousand Oaks']='CA'
state_dict['Toledo']='OH'
state_dict['Topeka']='KS'
state_dict['Torrance']='CA'
state_dict['Tucson']='AZ'
state_dict['Tulsa']='OK'
state_dict['Tyler']='TX'
state_dict['Vallejo']='CA'
state_dict['Vancouver']='WA'
state_dict['Ventura']='CA'
state_dict['Victorville']='CA'
state_dict['Virginia Beach']='VA'
state_dict['Visalia']='CA'
state_dict['Vista']='CA'
state_dict['Waco']='TX'
state_dict['Warren']='MI'
state_dict['Washington']='DC'
state_dict['Waterbury']='CT'
state_dict['West Covina']='CA'
state_dict['West Jordan']='UT'
state_dict['West Palm Beach']='FL'
state_dict['West Valley City']='UT'
state_dict['Westminster']='CO'
state_dict['Wichita']='KS'
state_dict['Wichita Falls']='TX'
state_dict['Wilmington']='NC'
state_dict['Winston–Salem']='NC'
state_dict['Woodbridge']='NJ'
state_dict['Worcester']='MA'
state_dict['Yonkers']='NY'
state_dict['Southern California']='CA'
state_dict['SoCal']='CA'
state_dict['ALABAMA']='AL'
state_dict['ALASKA']='AK'
state_dict['ARIZONA']='AZ'
state_dict['ARKANSAS']='AR'
state_dict['CALIFORNIA']='CA'
state_dict['COLORADO']='CO'
state_dict['CONNECTICUT']='CT'
state_dict['DELAWARE']='DE'
state_dict['FLORIDA']='FL'
state_dict['GEORGIA']='GA'
state_dict['HAWAII']='HI'
state_dict['IDAHO']='ID'
state_dict['ILLINOIS']='IL'
state_dict['INDIANA']='IN'
state_dict['IOWA']='IA'
state_dict['KANSAS']='KS'
state_dict['KENTUCKY']='KY'
state_dict['LOUISIANA']='LA'
state_dict['MAINE']='ME'
state_dict['MARYLAND']='MD'
state_dict['MASSACHUSETTS']='MA'
state_dict['MICHIGAN']='MI'
state_dict['MINNESOTA']='MN'
state_dict['MISSISSIPPI']='MS'
state_dict['MISSOURI']='MO'
state_dict['MONTANA']='MT'
state_dict['NEBRASKA']='NE'
state_dict['NEVADA']='NV'
state_dict['NEW HAMPSHIRE']='NH'
state_dict['NEW JERSEY']='NJ'
state_dict['NEW MEXICO']='NM'
state_dict['NEW YORK']='NY'
state_dict['NORTH CAROLINA']='NC'
state_dict['NORTH DAKOTA']='ND'
state_dict['OHIO']='OH'
state_dict['OKLAHOMA']='OK'
state_dict['OREGON']='OR'
state_dict['PENNSYLVANIA']='PA'
state_dict['RHODE ISLAND']='RI'
state_dict['SOUTH CAROLINA']='SC'
state_dict['SOUTH DAKOTA']='SD'
state_dict['TENNESSEE']='TN'
state_dict['TEXAS']='TX'
state_dict['UTAH']='UT'
state_dict['VERMONT']='VT'
state_dict['VIRGINIA']='VA'
state_dict['WASHINGTON']='WA'
state_dict['WEST VIRGINIA']='WV'
state_dict['WISCONSIN']='WI'
state_dict['WYOMING']='WY'
state_dict['District of Columbia']='DC'
state_dict['AL']='AL'
state_dict['AK']='AK'
state_dict['AZ']='AZ'
state_dict['AR']='AR'
state_dict['CA']='CA'
state_dict['CO']='CO'
state_dict['CT']='CT'
state_dict['DE']='DE'
state_dict['FL']='FL'
state_dict['GA']='GA'
state_dict['HI']='HI'
state_dict['ID']='ID'
state_dict['IL']='IL'
state_dict['IN']='IN'
state_dict['IA']='IA'
state_dict['KS']='KS'
state_dict['KY']='KY'
state_dict['LA']='LA'
state_dict['ME']='ME'
state_dict['MD']='MD'
state_dict['MA']='MA'
state_dict['MI']='MI'
state_dict['MN']='MN'
state_dict['MS']='MS'
state_dict['MO']='MO'
state_dict['MT']='MT'
state_dict['NE']='NE'
state_dict['NV']='NV'
state_dict['NH']='NH'
state_dict['NJ']='NJ'
state_dict['NM']='NM'
state_dict['NY']='NY'
state_dict['NC']='NC'
state_dict['ND']='ND'
state_dict['OH']='OH'
state_dict['OK']='OK'
state_dict['OR']='OR'
state_dict['PA']='PA'
state_dict['RI']='RI'
state_dict['SC']='SC'
state_dict['SD']='SD'
state_dict['TN']='TN'
state_dict['TX']='TX'
state_dict['UT']='UT'
state_dict['VT']='VT'
state_dict['VA']='VA'
state_dict['WA']='WA'
state_dict['WV']='WV'
state_dict['WI']='WI'
state_dict['WY']='WY'
state_dict['DC']='DC'

# timezone dictionary based on state within USA
tz_dict={}
tz_dict['AL']='Central'
tz_dict['AK']='Alaska'
tz_dict['AZ']='Mountain'
tz_dict['AR']='Central'
tz_dict['CA']='Pacific'
tz_dict['CO']='Mountain'
tz_dict['CT']='Eastern'
tz_dict['DE']='Eastern'
tz_dict['FL']='Eastern'
tz_dict['GA']='Eastern'
tz_dict['HI']='Hawaii'
tz_dict['ID']='Mountain'
tz_dict['IL']='Central'
tz_dict['IN']='Eastern'
tz_dict['IA']='Central'
tz_dict['KS']='Central'
tz_dict['KY']='Central'
tz_dict['LA']='Central'
tz_dict['ME']='Eastern'
tz_dict['MD']='Eastern'
tz_dict['MA']='Eastern'
tz_dict['MI']='Eastern'
tz_dict['MN']='Central'
tz_dict['MS']='Central'
tz_dict['MO']='Central'
tz_dict['MT']='Mountain'
tz_dict['NE']='Central'
tz_dict['NV']='Pacific'
tz_dict['NH']='Eastern'
tz_dict['NJ']='Eastern'
tz_dict['NM']='Mountain'
tz_dict['NY']='Eastern'
tz_dict['NC']='Eastern'
tz_dict['ND']='Central'
tz_dict['OH']='Eastern'
tz_dict['OK']='Central'
tz_dict['OR']='Pacific'
tz_dict['PA']='Eastern'
tz_dict['RI']='Eastern'
tz_dict['SC']='Eastern'
tz_dict['SD']='Central'
tz_dict['TN']='Central'
tz_dict['TX']='Central'
tz_dict['UT']='Mountain'
tz_dict['VT']='Eastern'
tz_dict['VA']='Eastern'
tz_dict['WA']='Pacific'
tz_dict['WV']='Eastern'
tz_dict['WI']='Central'
tz_dict['WY']='Mountain'
tz_dict['DC']='Eastern'
