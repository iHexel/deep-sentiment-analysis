import re

# compile a list of keywords to filter user_location by
city_state=["ALABAMA","ALASKA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","FLORIDA","GEORGIA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW HAMPSHIRE","N.H.","N. H.","NEW JERSEY","N.J.","N. J.","NEW MEXICO","N.M.","N. M.","NEW YORK","N.Y.","N. Y.","NORTH CAROLINA","N.C.","N. C.","NORTH DAKOTA","N.D.","N. D.","OHIO","OKLAHOMA","OREGON","PENNSYLVANIA","RHODE ISLAND","R.I.","R. I.","SOUTH CAROLINA","S.C.","S. C.","SOUTH DAKOTA","S.D.","S. D.","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINIA","WASHINGTON","WEST VIRGINIA","W.V.","W. V.","WISCONSIN","WYOMING","AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","Abilene","Akron","Albuquerque","Alexandria","Allentown","Amarillo","Anaheim","Anchorage","Ann Arbor","Antioch","Arlington","Arvada","Athens","Atlanta","Augusta","Aurora","Austin","Bakersfield","Baltimore","Baton Rouge","Beaumont","Bellevue","Berkeley","Billings","Birmingham","Boise","Boston","Boulder","Bridgeport","Broken Arrow","Brownsville","Buffalo","Burbank","Cambridge","Cape Coral","Carlsbad","Carrollton","Cary","Cedar Rapids","Centennial","Chandler","Charleston","Charlotte","Chattanooga","Chesapeake","Chicago","Chula Vista","Cincinnati","Clarksville","Clearwater","Cleveland","Clovis","College Station","Colorado Springs","Columbia","Columbus","Concord","Coral Springs","Corona","Corpus Christi","Costa Mesa","Dallas","Daly City","Davenport","Davie","Dayton","Denton","Denver","Des Moines","Detroit","Downey","Durham","Edison","El Cajon","El Monte","El Paso","Elgin","Elizabeth","Elk Grove","Escondido","Eugene","Evansville","Everett","Fairfield","Fargo","Fayetteville","Fontana","Fort Collins","Ft Collins","Ft. Collins","Fort Lauderdale","Ft Lauderdale","Ft. Lauderdale","Fort Wayne","Ft Wayne","Ft. Wayne","Fort Worth","Ft Worth","Ft. Worth","Fremont","Fresno","Frisco","Fullerton","Gainesville","Garden Grove","Garland","Gilbert","Glendale","Grand Rapids","Grand Prairie","Greeley","Green Bay","Greensboro","Gresham","Hampton","Hartford","Hayward","Henderson","Hialeah","High Point","Hillsboro","Hollywood","Honolulu","Houston","Huntington Beach","Huntsville","Independence","Indianapolis","Inglewood","Irvine","Irving","Jackson","Jacksonville","Jersey City","JC","Joliet","Jurupa Valley","Kansas City","Kent","Killeen","Knoxville","Lafayette","Lakeland","Lakewood","Lancaster","Lansing","Laredo","Las Cruces","Las Vegas","LV","Lewisville","Lexington","Lincoln","Little Rock","Long Beach","Los Angeles","LA","Louisville","Lowell","Lubbock","Macon","Madison","Manchester","McAllen","McKinney","Memphis","Mesa","Mesquite","Miami","Miami Gardens","Midland","Milwaukee","Minneapolis","Miramar","Mobile","Modesto","Montgomery","Moreno Valley","Murfreesboro","Murrieta","Naperville","Nashville","New Haven","New Orleans","New York","NYC","Newark","Newport News","Norfolk","Norman","North Charleston","N Charleston","North Las Vegas","N Las Vegas","Norwalk","Oakland","Oceanside","Odessa","Oklahoma City","Oklahoma","Olathe","Omaha","Ontario","Orange","Orlando","Overland Park","Oxnard","Palm Bay","Palmdale","Pasadena","Paterson","Pearland","Pembroke Pines","Peoria","Philadelphia","Philly","Phoenix","Pittsburgh","Plano","Pomona","Pompano Beach","Port St. Lucie","Port Saint Lucie","Port St Lucie","Portland","Providence","Provo","Pueblo","Raleigh","Rancho Cucamonga","Reno","Renton","Rialto","Richardson","Richmond","Riverside","Rochester","Rockford","Roseville","Round Rock","Sacramento","Saint Paul","St. Paul","St Paul","Salem","Salinas","Salt Lake City","San Angelo","San Antonio","San Bernardino","San Diego","San Francisco","San Fran","San Jose","San Mateo","Sandy Springs","Santa Ana","Santa Clara","Santa Clarita","Santa Maria","Santa Rosa","Savannah","Scottsdale","Seattle","Shreveport","Simi Valley","Sioux Falls","South Bend","S Bend","Spokane","Springfield","St. Louis","Saint Louis","St Louis","St. Petersburg","Saint Petersburg","St Petersburg","Stamford","Sterling Heights","Stockton","Sunnyvale","Surprise","Syracuse","Tacoma","Tallahassee","Tampa","Temecula","Tempe","Thornton","Thousand Oaks","Toledo","Topeka","Torrance","Tucson","Tulsa","Tyler","Vallejo","Vancouver","Ventura","Victorville","Virginia Beach","VA Beach","Visalia","Vista","Waco","Warren","Washington","DC","District Columbia","Waterbury","West Covina","W Covina","West Jordan","W Jordan","West Palm Beach","W Palm Beach","West Valley City","W Vally City","Westminster","Wichita","Wichita Falls","Wilmington","Winstonâ€“Salem","Winston Salem","Woodbridge","Worcester","Yonkers","Southern California","SoCal"]
keywords=re.compile('|'.join(city_state))

# compile a dictionary assigning keywords to a state within USA
state_dict={}
state_dict['abilene']='TX'
state_dict['akron']='OH'
state_dict['albuquerque']='NM'
state_dict['alexandria']='VA'
state_dict['allentown']='PA'
state_dict['amarillo']='TX'
state_dict['anaheim']='CA'
state_dict['anchorage']='AK'
state_dict['ann arbor']='MI'
state_dict['antioch']='CA'
state_dict['arlington']='TX'
state_dict['arvada']='CO'
state_dict['athens']='GA'
state_dict['atlanta']='GA'
state_dict['augusta']='GA'
state_dict['aurora']='CO'
state_dict['austin']='TX'
state_dict['bakersfield']='CA'
state_dict['baltimore']='MD'
state_dict['baton rouge']='LA'
state_dict['beaumont']='TX'
state_dict['bellevue']='WA'
state_dict['berkeley']='CA'
state_dict['billings']='MT'
state_dict['birmingham']='AL'
state_dict['boise']='ID'
state_dict['boston']='MA'
state_dict['boulder']='CO'
state_dict['bridgeport']='CT'
state_dict['broken arrow']='OK'
state_dict['brownsville']='TX'
state_dict['buffalo']='NY'
state_dict['burbank']='CA'
state_dict['cambridge']='MA'
state_dict['cape coral']='FL'
state_dict['carlsbad']='CA'
state_dict['carrollton']='TX'
state_dict['cary']='NC'
state_dict['cedar rapids']='IA'
state_dict['centennial']='CO'
state_dict['chandler']='AZ'
state_dict['charleston']='SC'
state_dict['charlotte']='NC'
state_dict['chattanooga']='TN'
state_dict['chesapeake']='VA'
state_dict['chicago']='IL'
state_dict['chula vista']='CA'
state_dict['cincinnati']='OH'
state_dict['clarksville']='TN'
state_dict['clearwater']='FL'
state_dict['cleveland']='OH'
state_dict['college station']='TX'
state_dict['colorado springs']='CO'
state_dict['columbia']='SC'
state_dict['columbus']='OH'
state_dict['concord']='CA'
state_dict['coral springs']='FL'
state_dict['corona']='CA'
state_dict['corpus christi']='TX'
state_dict['costa mesa']='CA'
state_dict['dallas']='TX'
state_dict['daly city']='CA'
state_dict['davenport']='IA'
state_dict['davie']='FL'
state_dict['dayton']='OH'
state_dict['denton']='TX'
state_dict['denver']='CO'
state_dict['des moines']='IA'
state_dict['detroit']='MI'
state_dict['downey']='CA'
state_dict['durham']='NC'
state_dict['edison']='NJ'
state_dict['el cajon']='CA'
state_dict['el monte']='CA'
state_dict['el paso']='TX'
state_dict['elgin']='IL'
state_dict['elizabeth']='NJ'
state_dict['elk grove']='CA'
state_dict['escondido']='CA'
state_dict['eugene']='OR'
state_dict['evansville']='IN'
state_dict['everett']='WA'
state_dict['fairfield']='CA'
state_dict['fargo']='ND'
state_dict['fayetteville']='NC'
state_dict['fontana']='CA'
state_dict['fort collins']='CO'
state_dict['ft collins']='CO'
state_dict['ft. collins']='CO'
state_dict['fort lauderdale']='FL'
state_dict['ft lauderdale']='FL'
state_dict['ft. lauderdale']='FL'
state_dict['fort wayne']='IN'
state_dict['ft wayne']='IN'
state_dict['ft. wayne']='IN'
state_dict['fort worth']='TX'
state_dict['ft worth']='TX'
state_dict['ft. worth']='TX'
state_dict['fremont']='CA'
state_dict['fresno']='CA'
state_dict['frisco']='TX'
state_dict['fullerton']='CA'
state_dict['gainesville']='FL'
state_dict['garden grove']='CA'
state_dict['garland']='TX'
state_dict['gilbert']='AZ'
state_dict['glendale']='AZ'
state_dict['grand prairie']='TX'
state_dict['grand rapids']='MI'
state_dict['greeley']='CO'
state_dict['green bay']='WI'
state_dict['greensboro']='NC'
state_dict['gresham']='OR'
state_dict['hampton']='VA'
state_dict['hartford']='CT'
state_dict['hayward']='CA'
state_dict['henderson']='NV'
state_dict['hialeah']='FL'
state_dict['high point']='NC'
state_dict['hillsboro']='OR'
state_dict['hollywood']='FL'
state_dict['honolulu']='HI'
state_dict['houston']='TX'
state_dict['huntington beach']='CA'
state_dict['huntsville']='AL'
state_dict['independence']='MO'
state_dict['indianapolis']='IN'
state_dict['inglewood']='CA'
state_dict['irvine']='CA'
state_dict['irving']='TX'
state_dict['jackson']='MS'
state_dict['jacksonville']='FL'
state_dict['jersey city']='NJ'
state_dict['joliet']='IL'
state_dict['jurupa valley']='CA'
state_dict['kansas city']='KS'
state_dict['kent']='WA'
state_dict['killeen']='TX'
state_dict['knoxville']='TN'
state_dict['lafayette']='LA'
state_dict['lakeland']='FL'
state_dict['lakewood']='CO'
state_dict['lancaster']='CA'
state_dict['lansing']='MI'
state_dict['laredo']='TX'
state_dict['las cruces']='NM'
state_dict['las vegas']='NV'
state_dict['lv']='NV'
state_dict['lewisville']='TX'
state_dict['lexington']='KY'
state_dict['lincoln']='NE'
state_dict['little rock']='AR'
state_dict['long beach']='CA'
state_dict['los angeles']='CA'
state_dict['la']='CA'
state_dict['l.a.']='CA'
state_dict['louisville']='KY'
state_dict['lowell']='MA'
state_dict['lubbock']='TX'
state_dict['macon']='GA'
state_dict['madison']='WI'
state_dict['manchester']='NH'
state_dict['mcallen']='TX'
state_dict['mckinney']='TX'
state_dict['memphis']='TN'
state_dict['mesa']='AZ'
state_dict['mesquite']='TX'
state_dict['miami']='FL'
state_dict['midland']='TX'
state_dict['milwaukee']='WI'
state_dict['minneapolis']='MN'
state_dict['miramar']='FL'
state_dict['mobile']='AL'
state_dict['modesto']='CA'
state_dict['montgomery']='AL'
state_dict['moreno valley']='CA'
state_dict['murfreesboro']='TN'
state_dict['murrieta']='CA'
state_dict['naperville']='IL'
state_dict['nashville']='TN'
state_dict['new haven']='CT'
state_dict['new orleans']='LA'
state_dict['new york']='NY'
state_dict['nyc']='NY'
state_dict['newark']='NJ'
state_dict['newport news']='VA'
state_dict['norfolk']='VA'
state_dict['norman']='OK'
state_dict['north charleston']='SC'
state_dict['north las vegas']='NV'
state_dict['norwalk']='CA'
state_dict['oakland']='CA'
state_dict['oceanside']='CA'
state_dict['odessa']='TX'
state_dict['oklahoma city']='OK'
state_dict['olathe']='KS'
state_dict['omaha']='NE'
state_dict['ontario']='CA'
state_dict['orange']='CA'
state_dict['orlando']='FL'
state_dict['overland park']='KS'
state_dict['oxnard']='CA'
state_dict['palm bay']='FL'
state_dict['palmdale']='CA'
state_dict['pasadena']='CA'
state_dict['paterson']='NJ'
state_dict['pearland']='TX'
state_dict['pembroke pines']='FL'
state_dict['peoria']='IL'
state_dict['philadelphia']='PA'
state_dict['philly']='PA'
state_dict['phoenix']='AZ'
state_dict['pittsburgh']='PA'
state_dict['plano']='TX'
state_dict['pomona']='CA'
state_dict['pompano beach']='FL'
state_dict['port st. lucie']='FL'
state_dict['port st lucie']='FL'
state_dict['port saint lucie']='FL'
state_dict['portland']='OR'
state_dict['providence']='RI'
state_dict['provo']='UT'
state_dict['pueblo']='CO'
state_dict['raleigh']='NC'
state_dict['rancho cucamonga']='CA'
state_dict['reno']='NV'
state_dict['renton']='WA'
state_dict['rialto']='CA'
state_dict['richardson']='TX'
state_dict['richmond']='VA'
state_dict['riverside']='CA'
state_dict['rochester']='NY'
state_dict['rockford']='IL'
state_dict['roseville']='CA'
state_dict['round rock']='TX'
state_dict['sacramento']='CA'
state_dict['saint paul']='MN'
state_dict['st paul']='MN'
state_dict['st. paul']='MN'
state_dict['salem']='OR'
state_dict['salinas']='CA'
state_dict['salt lake city']='UT'
state_dict['salt lake']='UT'
state_dict['san angelo']='TX'
state_dict['san antonio']='TX'
state_dict['san bernardino']='CA'
state_dict['san diego']='CA'
state_dict['san francisco']='CA'
state_dict['san fran']='CA'
state_dict['san jose']='CA'
state_dict['san mateo']='CA'
state_dict['sandy springs']='GA'
state_dict['santa ana']='CA'
state_dict['santa clara']='CA'
state_dict['santa clarita']='CA'
state_dict['santa maria']='CA'
state_dict['santa rosa']='CA'
state_dict['savannah']='GA'
state_dict['scottsdale']='AZ'
state_dict['seattle']='WA'
state_dict['shreveport']='LA'
state_dict['simi valley']='CA'
state_dict['sioux falls']='SD'
state_dict['south bend']='IN'
state_dict['spokane']='WA'
state_dict['springfield']='MO'
state_dict['st. louis']='MO'
state_dict['st louis']='MO'
state_dict['saint louis']='MO'
state_dict['st. petersburg']='FL'
state_dict['st petersburg']='FL'
state_dict['saint peterburg']='FL'
state_dict['stamford']='CT'
state_dict['sterling heights']='MI'
state_dict['stockton']='CA'
state_dict['sunnyvale']='CA'
state_dict['surprise']='AZ'
state_dict['syracuse']='NY'
state_dict['tacoma']='WA'
state_dict['tallahassee']='FL'
state_dict['tampa']='FL'
state_dict['temecula']='CA'
state_dict['tempe']='AZ'
state_dict['thornton']='CO'
state_dict['thousand oaks']='CA'
state_dict['toledo']='OH'
state_dict['topeka']='KS'
state_dict['torrance']='CA'
state_dict['tucson']='AZ'
state_dict['tulsa']='OK'
state_dict['tyler']='TX'
state_dict['vallejo']='CA'
state_dict['vancouver']='WA'
state_dict['ventura']='CA'
state_dict['victorville']='CA'
state_dict['virginia beach']='VA'
state_dict['visalia']='CA'
state_dict['vista']='CA'
state_dict['waco']='TX'
state_dict['warren']='MI'
state_dict['washington']='DC'
state_dict['waterbury']='CT'
state_dict['west covina']='CA'
state_dict['west jordan']='UT'
state_dict['west palm beach']='FL'
state_dict['west valley city']='UT'
state_dict['westminster']='CO'
state_dict['wichita']='KS'
state_dict['wichita falls']='TX'
state_dict['wilmington']='NC'
state_dict['winstonâ€“salem']='NC'
state_dict['woodbridge']='NJ'
state_dict['worcester']='MA'
state_dict['yonkers']='NY'
state_dict['southern california']='CA'
state_dict['socal']='CA'
state_dict['alabama']='AL'
state_dict['alaska']='AK'
state_dict['arizona']='AZ'
state_dict['arkansas']='AR'
state_dict['california']='CA'
state_dict['colorado']='CO'
state_dict['connecticut']='CT'
state_dict['delaware']='DE'
state_dict['florida']='FL'
state_dict['georgia']='GA'
state_dict['hawaii']='HI'
state_dict['idaho']='ID'
state_dict['illinois']='IL'
state_dict['indiana']='IN'
state_dict['iowa']='IA'
state_dict['kansas']='KS'
state_dict['kentucky']='KY'
state_dict['louisiana']='LA'
state_dict['maine']='ME'
state_dict['maryland']='MD'
state_dict['massachusetts']='MA'
state_dict['michigan']='MI'
state_dict['minnesota']='MN'
state_dict['mississippi']='MS'
state_dict['missouri']='MO'
state_dict['montana']='MT'
state_dict['nebraska']='NE'
state_dict['nevada']='NV'
state_dict['new hampshire']='NH'
state_dict['new jersey']='NJ'
state_dict['new mexico']='NM'
state_dict['new york']='NY'
state_dict['north carolina']='NC'
state_dict['north dakota']='ND'
state_dict['ohio']='OH'
state_dict['oklahoma']='OK'
state_dict['oregon']='OR'
state_dict['pennsylvania']='PA'
state_dict['rhode island']='RI'
state_dict['south carolina']='SC'
state_dict['south dakota']='SD'
state_dict['tennessee']='TN'
state_dict['texas']='TX'
state_dict['utah']='UT'
state_dict['vermont']='VT'
state_dict['virginia']='VA'
state_dict['washington']='WA'
state_dict['west virginia']='WV'
state_dict['wisconsin']='WI'
state_dict['wyoming']='WY'
state_dict['district of columbia']='DC'
state_dict['al']='AL'
state_dict['ak']='AK'
state_dict['az']='AZ'
state_dict['ar']='AR'
state_dict['ca']='CA'
state_dict['co']='CO'
state_dict['ct']='CT'
state_dict['de']='DE'
state_dict['fl']='FL'
state_dict['ga']='GA'
state_dict['hi']='HI'
state_dict['id']='ID'
state_dict['il']='IL'
state_dict['in']='IN'
state_dict['ia']='IA'
state_dict['ks']='KS'
state_dict['ky']='KY'
state_dict['la']='LA'
state_dict['me']='ME'
state_dict['md']='MD'
state_dict['ma']='MA'
state_dict['mi']='MI'
state_dict['mn']='MN'
state_dict['ms']='MS'
state_dict['mo']='MO'
state_dict['mt']='MT'
state_dict['ne']='NE'
state_dict['nv']='NV'
state_dict['nh']='NH'
state_dict['nj']='NJ'
state_dict['nm']='NM'
state_dict['ny']='NY'
state_dict['nc']='NC'
state_dict['nd']='ND'
state_dict['oh']='OH'
state_dict['ok']='OK'
state_dict['or']='OR'
state_dict['pa']='PA'
state_dict['ri']='RI'
state_dict['sc']='SC'
state_dict['sd']='SD'
state_dict['tn']='TN'
state_dict['tx']='TX'
state_dict['ut']='UT'
state_dict['vt']='VT'
state_dict['va']='VA'
state_dict['wa']='WA'
state_dict['wv']='WV'
state_dict['wi']='WI'
state_dict['wy']='WY'
state_dict['dc']='DC'

# timezone dictionary based on state within USA
tz_dict={}
tz_dict['AL']='Central'
tz_dict['AK']='Alaska'
tz_dict['AZ']='Mountain'
tz_dict['AR']='Central'
tz_dict['CA']='Pacific'
tz_dict['CO']='Mountain'
tz_dict['CT']='Eastern'
tz_dict['DE']='Eastern'
tz_dict['FL']='Eastern'
tz_dict['GA']='Eastern'
tz_dict['HI']='Hawaii'
tz_dict['ID']='Mountain'
tz_dict['IL']='Central'
tz_dict['IN']='Eastern'
tz_dict['IA']='Central'
tz_dict['KS']='Central'
tz_dict['KY']='Central'
tz_dict['LA']='Central'
tz_dict['ME']='Eastern'
tz_dict['MD']='Eastern'
tz_dict['MA']='Eastern'
tz_dict['MI']='Eastern'
tz_dict['MN']='Central'
tz_dict['MS']='Central'
tz_dict['MO']='Central'
tz_dict['MT']='Mountain'
tz_dict['NE']='Central'
tz_dict['NV']='Pacific'
tz_dict['NH']='Eastern'
tz_dict['NJ']='Eastern'
tz_dict['NM']='Mountain'
tz_dict['NY']='Eastern'
tz_dict['NC']='Eastern'
tz_dict['ND']='Central'
tz_dict['OH']='Eastern'
tz_dict['OK']='Central'
tz_dict['OR']='Pacific'
tz_dict['PA']='Eastern'
tz_dict['RI']='Eastern'
tz_dict['SC']='Eastern'
tz_dict['SD']='Central'
tz_dict['TN']='Central'
tz_dict['TX']='Central'
tz_dict['UT']='Mountain'
tz_dict['VT']='Eastern'
tz_dict['VA']='Eastern'
tz_dict['WA']='Pacific'
tz_dict['WV']='Eastern'
tz_dict['WI']='Central'
tz_dict['WY']='Mountain'
tz_dict['DC']='Eastern'
